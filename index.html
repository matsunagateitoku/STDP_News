<!DOCTYPE html>
<html>

<head>      
    <title>PDB Simple</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"> 
    <link rel="stylesheet" type="text/css" href="styletest.css" /> 
</head>

<body>
	<h1 id=title>STDP People's Daily Brief</h1>
    <nav class="bg-white shadow-md">
        <div class="container mx-auto p-4">
            <div class="flex space-x-4">
                <form action="./test_page.html" method="get" target="_blank">
                    <button class="bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded" type="submit">Home</button>
                </form>
                <form action="https://www.washingtonpost.com/" method="get" target="_blank">
                    <button class="bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded" type="submit">Analytics</button>
                <form action="https://www.latimes.com/" method="get" target="_blank">
                    <button class="bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded" type="submit">References</button>
                </form>
                <form action="https://www.usatoday.com/" method="get" target="_blank">
                    <button class="bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded" type="submit">About Us</button>
                </form>
            </div>
        </div>
    </nav>

	<button id="toggleStyles">Toggle Styles</button>

	<summary>National Newspapers</summary>
    	<div class="tab" id="nationalPapers"></div>

	<summary>US Newspapers</summary>
	<div class="tab" id="localPapers"></div>

	<summary>Wire Sevices</summary>
	<div class="tab" id="wire"></div>
	
	<summary>Web News</summary>
	<div class="tab" id="web"></div>

	<summary>Political News</summary>
	<div class="tab" id="political"></div>

	<summary>TV and Raido News</summary>
	<div class="tab" id="TV_Radio"></div>

	<summary>Magazines</summary>
	<div class="tab" id="Magazines"></div>

	<summary>Finance</summary>
	<div class="tab" id="Finance"></div>
		
	<summary>Sports</summary>
	<div class="tab" id="Sports"></div>

	<summary>Think Tanks</summary>
	<div class="tab" id="think_tanks"></div>

	<summary>International Papers</summary>
	<div class="tab" id="International"></div>

	<summary>Science</summary>
	<div class="tab" id="Science"></div>

	<summary>Technology</summary>
	<div class="tab" id="Technology"></div>

	<summary>Propaganda</summary>
	<div class="tab" id="Propaganda"></div>

	<summary>National Security</summary>
	<div class="tab" id="National Security"></div>

	<summary>Entertainment</summary>
	<div class="tab" id="Entertainment"></div>

<summary>Other Versions of the site</summary>
			<form action="https://www.nytimes.com/" method="get" target="_blank">
     		<button class=button_r type="submit">NY Times</button> </form>
	<a href="./website3.html">place holder images wireframe</a>
   	<a href="./website4.html">pills for sites</a>
   	<a href="./wordcloud.html">wordcloud</a>
</body>

<script>
	async function loadNewspapers(sources) {
		for (const { file, sectionId } of sources) {
			const container = document.getElementById(sectionId);
			container.innerHTML = '<p>Loading...</p>'; // Loading indicator

			try {
				const response = await fetch(file);
				if (!response.ok) throw new Error(`Network response was not ok for ${file}`);

				const newspapers = await response.json();
				const buttons = newspapers.map(({ name, url, class: buttonClass }) => `
					<form action="${url}" method="get" target="_blank" aria-label="${name}">
						<button class="${buttonClass}" type="submit">${name}</button>
					</form>
				`).join('');

				container.innerHTML = buttons;
			} catch (error) {
				container.innerHTML = '<p>Error loading newspapers.</p>'; // Error message
				console.error('There has been a problem with your fetch operation:', error);
			}
		}
	}

	document.addEventListener('DOMContentLoaded', () => {
		const sources = [
			{ file: 'data/national_papers.js', sectionId: 'nationalPapers' },
			{ file: 'data/local_papers.js', sectionId: 'localPapers' },
			{ file: 'data/wire.js', sectionId: 'wire' },
			{ file: 'data/web.js', sectionId: 'web' },
			{ file: 'data/political.js', sectionId: 'political' },
			{ file: 'data/TV_Radio.js', sectionId: 'TV_Radio' },
			{ file: 'data/Magazines.js', sectionId: 'Magazines' },
			{ file: 'data/Finance.js', sectionId: 'Finance' },
			{ file: 'data/Sports.js', sectionId: 'Sports' },
			{ file: 'data/think_tanks.js', sectionId: 'think_tanks' },
			{ file: 'data/international.js', sectionId: 'International' },
			{ file: 'data/Science.js', sectionId: 'Science' },
			{ file: 'data/Tech.js', sectionId: 'Technology' },
			{ file: 'data/Propaganda.js', sectionId: 'Propaganda' },
			{ file: 'data/national_security.js', sectionId: 'National Security' },
			{ file: 'data/Entertainment.js', sectionId: 'Entertainment' }
		];
		loadNewspapers(sources);
		document.getElementById('toggleStyles').addEventListener('click', toggleStyles);
	});

function toggleStyles() {
    const sections = [
        'nationalPapers', 'localPapers', 'wire', 'web', 
        'political', 'TV_Radio', 'Magazines', 'Finance', 
        'Sports', 'think_tanks', 'International', 'Overseas'
    ];

    sections.forEach(sectionId => {
        const buttons = document.querySelectorAll(`#${sectionId} button`);
        buttons.forEach(button => {
            // Toggle the 'no-styles' class
            button.classList.toggle('no-styles');
        });
    });
}
</script>
</html> 

